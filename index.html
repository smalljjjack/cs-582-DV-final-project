<!DOCTYPE html5>
<html>

<head>
  <meta charset="utf-8">
  <title>Soccer history from 1950 - 2017</title>
</head>

<body>
  <link rel="stylesheet" href="part1.css">
  <link rel="stylesheet" href="other.css">
  <link rel="stylesheet" href="slope.css">
  <script src="part1.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/queue.v1.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
  <script src="gameResultsByYear.js"></script>
  <script src="teamListByYear.js"></script>
  <script src="winLoseBar.js"></script>
  <script src="forceDirectedGraph.js"></script>
  <script src="slope.js"></script>
  <script src="slopeData.js"></script>
  <script src="generalData.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <div id="nav-scroll">

    <nav class="navbar navbar-expand-lg navbar-light" id="mynavbar">
      <a class="navbar-brand" id="my_brand" style="color:#ffffff">Soccer campaign history</a>
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link my-navitem" href="#Intro" style="color:#ffffff">Intro</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link my-navitem" href="#worldMapDiv" style="color:#ffffff">Heat Map</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link my-navitem" href="#forceDiv" style="color:#ffffff">WinLose</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link my-navitem" href="#slopeDiv" style="color:#ffffff">Rate</a>
        </li>
      </ul>
    </nav>


    <div class="component" id="Intro">
      <div class="container introcontainer">
        <center>
          <h1>Trace soccer campaign hsitory</h1>
        </center>
      </div>
    </div>
    <div class="component" id="worldMapDiv">
      <div style="height:8%"></div>
      <table class="part1">
        <tr>
          <th class="p1maps" style="width:70%">
            <div class="timeline">
              <div id="timeSelector">
                <label>From</label>
                <input type="text" size="10" id="timeStart" name="" placeholder="1950">
                <label>To</label>
                <input type="text" size="10" id="timeEnd" name="" placeholder="2017">

                <button type="button" id="timeConfirmBTN">Confirm</button>
                <button type="button" id="timeConfirmBTN2" style="display:none"></button>
              </div>
              <div id="selectionDetion">
                <label id="countyDetail">Select Country : All</label>
                <label id="yearDetail">Select Year : 1950 - 2017
                  <label>
              </div>

            </div>
            <div class="worldmap"></div>
          </th>
          <th class="p1barcharts" style="width:30%">
            <div class="" style="height:4%">
              <p>Which tournament were most popular?</p>
            </div>
            <div class="p1bar1" style="width:100%"></div>

            <div class="" style="height:4%">
              <p>Who was the most popular away team?</p>
            </div>
            <div class="p1bar2" style="width:100%"></div>

            <div class="" style="height:4%">
              <p>Which year had most campagins?</p>
            </div>
            <div class="p1bar3" style="width:100%"></div>
          </th>
        </tr>

      </table>
    </div>
    <div class="component" id="forceDiv">
        <div style="height:8%"></div>
      <div id="intro-part2">
          <h1>Force Directed Graph for game played and win lose bar chart </h1>
          <p>
              This part you can discover how many teams played with each other in one year. And for one team, 
              click on the nodes in the force directed graph to see the winning and losing number
              within several years in different cities.
          </p>
      </div>
      <div class="year-select">
        Please choose a year:
        <input type="text" id="yearSelect" value="" onkeypress="enterFunc(event)">
        <input type="button" name="" id="" value="submit" onclick="myFunc()">
      </div>

      <svg id="forceDirectedGraph"></svg>

      <!-- <div class="year-select">
            <input type="text" id="yearFrom" value="">
            <input type="text" id="yearTo" value="">
            <input type="button" name="" value="submit" onclick="winLoseBar()">
        </div> -->

      <svg id="winLoseBar"></svg>
      <div id="tooltip"></div>
    </div>
    <div class="component" id="slopeDiv">
      <div style="height:8%"></div>
      <div id = "slope_intr">
        <h1>The Slope Chart of All Countries' Winning Rate </h1>
        <p>This is the slope chart to show the winning rata of any counry in continous five years.</p>
        <p>The left part shows the selected countries. Type a new country's name and click "Add" buttom to add it. Drag the label of certain country outof the board if you don't want it.</p>
        <p>The middle part is the slope chart. Click the buttoms in two sides to switch the time window.</p>
        <p>Click any part of the lines in the slope chart, a pie chart will be presented in the right part to show the tournaments the country attended in that year. Put mouse over the pie to get more details.</p>

      </div>
      <div id = "main">
          <div id = "nation">
              <input type="text" id="countryT" name="typeNation" placeholder="Type a country name...">
              <input type="button" id="countryB" name="addNation" value="Add">
              <div id="nationList"></div>
          </div>
          <div id = "yeardown">
              <input type="button" name="yeardown" value="<<"/>
          </div>
          <div id = "slopechart"></div>
          <div id = "yearup"> 
              <input type="button" name="yearup" value=">>"/>
          </div>
          <div id = "detail"></div>
      </div>
    </div>
  </div>



  <script>
    slopePage();
    worldMap();
    barchar();

  </script>

  <script>
  var activeTeam = "England";

function enterFunc(e) {
    if (e.charCode == 13) {
        myFunc();
    }
}

function myFunc() {
    $("#forceDirectedGraph").empty();
    var year = document.getElementById("yearSelect").value;
    if (year >= 1950 && year <= 2017) {
        drawForceDirectedGraph(year);
    }
    else {
        alert("year not in range")
    }
}
drawForceDirectedGraph(2016);

function winLoseBar() {
    $("#winLoseBar").empty();
    var yearFrom = document.getElementById("yearFrom").value;
    var yearTo = document.getElementById("yearTo").value;
    // var team = document.getElementById("team").value;

    // console.log(yearFrom)
    // console.log(yearTo)
    // console.log(team)

    var [winLoseTotal, asHost, asGuest] = getWinLoseData(parseInt(yearFrom), parseInt(yearTo), activeTeam);
    drawWinLoseBar(winLoseTotal, asHost, asGuest, activeTeam);
}

var [winLoseTotal, asHost, asGuest] = getWinLoseData(2013, 2017, activeTeam);
drawWinLoseBar(winLoseTotal, asHost, asGuest, activeTeam);

  </script>

</body>

</html>